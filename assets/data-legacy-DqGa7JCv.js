!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,i||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:i+""}function a(t,i,n){return i=r(i),function(t,i){if(i&&("object"==e(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,s()?Reflect.construct(i,n||[],r(t).constructor):i.apply(t,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}System.register(["./RenderPass-legacy-CQGSWB61.js"],(function(e,i){"use strict";var o,s,r,l,u,c,d,p,m,g,f,b,_,y,v,w,k,x,P,E;return{setters:[function(e){o=e.r,s=e.s,r=e.V,l=e.C,u=e.t,c=e.u,d=e.Q,p=e.v,m=e.p,g=e.w,f=e.x,b=e.E,_=e.R,y=e.a,v=e.S,w=e.P,k=e.A,x=e.D,P=e.q,E=e.W}],execute:function(){var i={type:"change"},D={type:"start"},j={type:"end"},S=new o,T=new s,M=Math.cos(70*g.DEG2RAD),R=new r,O=2*Math.PI,C=-1,L=0,z=1,A=2,I=3,Y=4,Z=5,W=6,K=1e-6,F=function(e){function o(e){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t(this,o),(i=a(this,o,[e,n])).state=C,i.enabled=!0,i.target=new r,i.cursor=new r,i.minDistance=0,i.maxDistance=1/0,i.minZoom=0,i.maxZoom=1/0,i.minTargetRadius=0,i.maxTargetRadius=1/0,i.minPolarAngle=0,i.maxPolarAngle=Math.PI,i.minAzimuthAngle=-1/0,i.maxAzimuthAngle=1/0,i.enableDamping=!1,i.dampingFactor=.05,i.enableZoom=!0,i.zoomSpeed=1,i.enableRotate=!0,i.rotateSpeed=1,i.enablePan=!0,i.panSpeed=1,i.screenSpacePanning=!0,i.keyPanSpeed=7,i.zoomToCursor=!1,i.autoRotate=!1,i.autoRotateSpeed=2,i.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},i.mouseButtons={LEFT:u.ROTATE,MIDDLE:u.DOLLY,RIGHT:u.PAN},i.touches={ONE:c.ROTATE,TWO:c.DOLLY_PAN},i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object.zoom,i._domElementKeyEvents=null,i._lastPosition=new r,i._lastQuaternion=new d,i._lastTargetPosition=new r,i._quat=(new d).setFromUnitVectors(e.up,new r(0,1,0)),i._quatInverse=i._quat.clone().invert(),i._spherical=new p,i._sphericalDelta=new p,i._scale=1,i._panOffset=new r,i._rotateStart=new m,i._rotateEnd=new m,i._rotateDelta=new m,i._panStart=new m,i._panEnd=new m,i._panDelta=new m,i._dollyStart=new m,i._dollyEnd=new m,i._dollyDelta=new m,i._dollyDirection=new r,i._mouse=new m,i._performCursorZoom=!1,i._pointers=[],i._pointerPositions={},i._controlActive=!1,i._onPointerMove=U.bind(i),i._onPointerDown=H.bind(i),i._onPointerUp=X.bind(i),i._onContextMenu=J.bind(i),i._onMouseWheel=V.bind(i),i._onKeyDown=B.bind(i),i._onTouchStart=G.bind(i),i._onTouchMove=Q.bind(i),i._onMouseDown=N.bind(i),i._onMouseMove=q.bind(i),i._interceptControlDown=$.bind(i),i._interceptControlUp=ee.bind(i),null!==i.domElement&&i.connect(),i.update(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e),n(o,[{key:"connect",value:function(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}},{key:"disconnect",value:function(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}},{key:"dispose",value:function(){this.disconnect()}},{key:"getPolarAngle",value:function(){return this._spherical.phi}},{key:"getAzimuthalAngle",value:function(){return this._spherical.theta}},{key:"getDistance",value:function(){return this.object.position.distanceTo(this.target)}},{key:"listenToKeyEvents",value:function(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}},{key:"stopListenToKeyEvents",value:function(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}},{key:"saveState",value:function(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}},{key:"reset",value:function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(i),this.update(),this.state=C}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.object.position;R.copy(t).sub(this.target),R.applyQuaternion(this._quat),this._spherical.setFromVector3(R),this.autoRotate&&this.state===C&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);var n=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(n)&&isFinite(o)&&(n<-Math.PI?n+=O:n>Math.PI&&(n-=O),o<-Math.PI?o+=O:o>Math.PI&&(o-=O),this._spherical.theta=n<=o?Math.max(n,Math.min(o,this._spherical.theta)):this._spherical.theta>(n+o)/2?Math.max(n,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);var a=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{var s=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),a=s!=this._spherical.radius}if(R.setFromSpherical(this._spherical),R.applyQuaternion(this._quatInverse),t.copy(this.target).add(R),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){var h=null;if(this.object.isPerspectiveCamera){var l=R.length(),u=l-(h=this._clampDistance(l*this._scale));this.object.position.addScaledVector(this._dollyDirection,u),this.object.updateMatrixWorld(),a=!!u}else if(this.object.isOrthographicCamera){var c=new r(this._mouse.x,this._mouse.y,0);c.unproject(this.object);var d=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),a=d!==this.object.zoom;var p=new r(this._mouse.x,this._mouse.y,0);p.unproject(this.object),this.object.position.sub(p).add(c),this.object.updateMatrixWorld(),h=R.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==h&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(h).add(this.object.position):(S.origin.copy(this.object.position),S.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(S.direction))<M?this.object.lookAt(this.target):(T.setFromNormalAndCoplanarPoint(this.object.up,this.target),S.intersectPlane(T,this.target))))}else if(this.object.isOrthographicCamera){var m=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),m!==this.object.zoom&&(this.object.updateProjectionMatrix(),a=!0)}return this._scale=1,this._performCursorZoom=!1,!!(a||this._lastPosition.distanceToSquared(this.object.position)>K||8*(1-this._lastQuaternion.dot(this.object.quaternion))>K||this._lastTargetPosition.distanceToSquared(this.target)>K)&&(this.dispatchEvent(i),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}},{key:"_getAutoRotationAngle",value:function(e){return null!==e?O/60*this.autoRotateSpeed*e:O/60/60*this.autoRotateSpeed}},{key:"_getZoomScale",value:function(e){var t=Math.abs(.01*e);return Math.pow(.95,this.zoomSpeed*t)}},{key:"_rotateLeft",value:function(e){this._sphericalDelta.theta-=e}},{key:"_rotateUp",value:function(e){this._sphericalDelta.phi-=e}},{key:"_panLeft",value:function(e,t){R.setFromMatrixColumn(t,0),R.multiplyScalar(-e),this._panOffset.add(R)}},{key:"_panUp",value:function(e,t){!0===this.screenSpacePanning?R.setFromMatrixColumn(t,1):(R.setFromMatrixColumn(t,0),R.crossVectors(this.object.up,R)),R.multiplyScalar(e),this._panOffset.add(R)}},{key:"_pan",value:function(e,t){var i=this.domElement;if(this.object.isPerspectiveCamera){var n=this.object.position;R.copy(n).sub(this.target);var o=R.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*o/i.clientHeight,this.object.matrix),this._panUp(2*t*o/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}},{key:"_dollyOut",value:function(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"_dollyIn",value:function(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}},{key:"_updateZoomParameters",value:function(e,t){if(this.zoomToCursor){this._performCursorZoom=!0;var i=this.domElement.getBoundingClientRect(),n=e-i.left,o=t-i.top,a=i.width,s=i.height;this._mouse.x=n/a*2-1,this._mouse.y=-o/s*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}}},{key:"_clampDistance",value:function(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}},{key:"_handleMouseDownRotate",value:function(e){this._rotateStart.set(e.clientX,e.clientY)}},{key:"_handleMouseDownDolly",value:function(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}},{key:"_handleMouseDownPan",value:function(e){this._panStart.set(e.clientX,e.clientY)}},{key:"_handleMouseMoveRotate",value:function(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);var t=this.domElement;this._rotateLeft(O*this._rotateDelta.x/t.clientHeight),this._rotateUp(O*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}},{key:"_handleMouseMoveDolly",value:function(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}},{key:"_handleMouseMovePan",value:function(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}},{key:"_handleMouseWheel",value:function(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}},{key:"_handleKeyDown",value:function(e){var t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(O*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateUp(-O*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(O*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this._rotateLeft(-O*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),this.update())}},{key:"_handleTouchStartRotate",value:function(e){if(1===this._pointers.length)this._rotateStart.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateStart.set(i,n)}}},{key:"_handleTouchStartPan",value:function(e){if(1===this._pointers.length)this._panStart.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panStart.set(i,n)}}},{key:"_handleTouchStartDolly",value:function(e){var t=this._getSecondPointerPosition(e),i=e.pageX-t.x,n=e.pageY-t.y,o=Math.sqrt(i*i+n*n);this._dollyStart.set(0,o)}},{key:"_handleTouchStartDollyPan",value:function(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}},{key:"_handleTouchStartDollyRotate",value:function(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}},{key:"_handleTouchMoveRotate",value:function(e){if(1==this._pointers.length)this._rotateEnd.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._rotateEnd.set(i,n)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);var o=this.domElement;this._rotateLeft(O*this._rotateDelta.x/o.clientHeight),this._rotateUp(O*this._rotateDelta.y/o.clientHeight),this._rotateStart.copy(this._rotateEnd)}},{key:"_handleTouchMovePan",value:function(e){if(1===this._pointers.length)this._panEnd.set(e.pageX,e.pageY);else{var t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this._panEnd.set(i,n)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}},{key:"_handleTouchMoveDolly",value:function(e){var t=this._getSecondPointerPosition(e),i=e.pageX-t.x,n=e.pageY-t.y,o=Math.sqrt(i*i+n*n);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);var a=.5*(e.pageX+t.x),s=.5*(e.pageY+t.y);this._updateZoomParameters(a,s)}},{key:"_handleTouchMoveDollyPan",value:function(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}},{key:"_handleTouchMoveDollyRotate",value:function(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}},{key:"_addPointer",value:function(e){this._pointers.push(e.pointerId)}},{key:"_removePointer",value:function(e){delete this._pointerPositions[e.pointerId];for(var t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return void this._pointers.splice(t,1)}},{key:"_isTrackingPointer",value:function(e){for(var t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}},{key:"_trackPointer",value:function(e){var t=this._pointerPositions[e.pointerId];void 0===t&&(t=new m,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}},{key:"_getSecondPointerPosition",value:function(e){var t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}},{key:"_customWheelEvent",value:function(e){var t=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}])}(l);function H(e){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),"touch"===e.pointerType?this._onTouchStart(e):this._onMouseDown(e)))}function U(e){!1!==this.enabled&&("touch"===e.pointerType?this._onTouchMove(e):this._onMouseMove(e))}function X(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(j),this.state=C;break;case 1:var t=this._pointers[0],i=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:i.x,pageY:i.y})}}function N(e){var t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.DOLLY:if(!1===this.enableZoom)return;this._handleMouseDownDolly(e),this.state=z;break;case u.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=A}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=L}break;case u.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(e),this.state=L}else{if(!1===this.enablePan)return;this._handleMouseDownPan(e),this.state=A}break;default:this.state=C}this.state!==C&&this.dispatchEvent(D)}function q(e){switch(this.state){case L:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(e);break;case z:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(e);break;case A:if(!1===this.enablePan)return;this._handleMouseMovePan(e)}}function V(e){!1!==this.enabled&&!1!==this.enableZoom&&this.state===C&&(e.preventDefault(),this.dispatchEvent(D),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(j))}function B(e){!1!==this.enabled&&!1!==this.enablePan&&this._handleKeyDown(e)}function G(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case c.ROTATE:if(!1===this.enableRotate)return;this._handleTouchStartRotate(e),this.state=I;break;case c.PAN:if(!1===this.enablePan)return;this._handleTouchStartPan(e),this.state=Y;break;default:this.state=C}break;case 2:switch(this.touches.TWO){case c.DOLLY_PAN:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(e),this.state=Z;break;case c.DOLLY_ROTATE:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(e),this.state=W;break;default:this.state=C}break;default:this.state=C}this.state!==C&&this.dispatchEvent(D)}function Q(e){switch(this._trackPointer(e),this.state){case I:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(e),this.update();break;case Y:if(!1===this.enablePan)return;this._handleTouchMovePan(e),this.update();break;case Z:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(e),this.update();break;case W:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=C}}function J(e){!1!==this.enabled&&e.preventDefault()}function $(e){"Control"===e.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function ee(e){"Control"===e.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}e("T",function(){return n((function e(){t(this,e),this.pageObj=Object.assign({isStats:!1,isFog:!1,isControlRotate:!1,isLimitControl:!1,isHalfRenderer:!1,groundMethod:0,skyboxMethod:0,skyboxOne:"",skybox:[],renderEnabled:!1},{skyboxMethod:2,isHalfRenderer:!0,isStats:!1,renderEnabled:!0}),this.W=0,this.H=0,this.resizeFunc="",this.delta="",this.clock=new f,this.loadTime=100,this.renderOrder=100,this.container="",this.scene="",this.camera="",this.controls="",this.renderer="",this.flagLoadData=!1,this.flagLoad=!1,this.flagHalf=!1,this.interval_load="",this.renderEnabled=""!=this.pageObj.renderEnabled&&this.pageObj.renderEnabled,this.frameId="",this.timeoutResize="",this.timeoutRender="",this.timeRender=3e3,this.flagRender=!1,this.renderIndex=0,this.renderNum=1,this.onWindowResize=this.onWindowResize.bind(this)}),[{key:"load",value:function(){this.init()}},{key:"init",value:function(){var e=this;this.initData(),this.interval_load=setInterval((function(){if(e.flagLoadData){clearInterval(e.interval_load),e.initCanvas(),e.initScene(),e.initCamera(),e.initLight(),e.initFace(),e.initControls(),e.initRenderer(),e.initModel(),e.initShader(),e.flagLoad=!0,window.addEventListener("resize",e.onWindowResize,!1),e.start(),e.animate(),e.composer=new b(e.renderer);var t=new _(e.scene,e.camera);e.composer.addPass(t);var i=new y({uniforms:{tDiffuse:{value:null},amount:{value:1}},vertexShader:"\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 2.0);\n      }\n    ",fragmentShader:"\n      uniform sampler2D tDiffuse;\n      uniform float amount;\n      varying vec2 vUv;\n\n      vec3 applySaturation(vec3 color, float saturation) {\n        float intensity = dot(color, vec3(0.299, 0.587, 0.114));\n        return mix(vec3(intensity), color, saturation);\n      }\n\n      void main() {\n        vec4 texColor = texture2D(tDiffuse, vUv);\n        vec3 color = applySaturation(texColor.rgb, amount);\n        gl_FragColor = vec4(color, texColor.a);\n      }\n    "});e.composer.addPass(i)}}),this.loadTime)}},{key:"initData",value:function(){}},{key:"initFace",value:function(){}},{key:"initModel",value:function(){}},{key:"useModel",value:function(){}},{key:"initShader",value:function(){}},{key:"start",value:function(){}},{key:"initCanvas",value:function(){this.container=document.getElementById("div_canvas3d"),this.getWidthHeight()}},{key:"initScene",value:function(){this.scene=new v}},{key:"initCamera",value:function(){this.camera=new w(75,this.W/this.H,.01,1e5),this.camera.position.x=18,this.camera.lookAt(0,0,0)}},{key:"initLight",value:function(){var e=new k(16777215,4);this.scene.add(e);var t=new x(14540253,1);t.position.set(300,500,300),this.scene.add(t)}},{key:"initGround",value:function(){if(0===this.pageObj.groundMethod){var e=new P(5e3,100);this.scene.add(e)}}},{key:"initControls",value:function(){this.controls=new F(this.camera,this.container),this.controls.minDistance=.1,this.controls.maxDistance=60}},{key:"initRenderer",value:function(){this.renderer=new E({antialias:!0,logarithmicDepthBuffer:!0,alpha:!0}),this.renderer.setSize(this.W,this.H),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement)}},{key:"animate",value:function(){this.frameId=requestAnimationFrame(this.animate.bind(this)),this.render(),this.stats&&this.stats.update()}},{key:"render",value:function(){this.flagRender&&(this.flagRender=!1),this.renderIndex==this.renderNum&&(this.flagRender=!0,this.renderIndex=0),this.flagRender&&(this.delta=this.clock.getDelta(),this.composer&&this.composer.render(this.delta),this.renderer.render(this.scene,this.camera)),this.renderIndex++}},{key:"onWindowResize",value:function(){var e=this;this.timeoutResize&&clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout((function(){e.getWidthHeight(),e.camera&&(e.camera.aspect=e.W/e.H,e.camera.updateProjectionMatrix()),e.renderer&&e.renderer.setSize(e.W,e.H),e.resizeFunc&&e.resizeFunc()}),200)}},{key:"getWidthHeight",value:function(){this.W=this.container.offsetWidth,this.H=this.container.offsetHeight}},{key:"addOrder",value:function(){return this.renderOrder+=10,this.renderOrder}}])}());e("d",{data:[{id:1,fid:1,name:"1-mechine",modelurl:"../mechine/mechine.obj",textureurl:"../mechine/mechine.png",pngurl:"../mechine/mechine-split.png",infourl:"../mechine/label001.png",text:"“The Worry Filter absorbs the sadness and troubles, transforming them into large cups of milk tea, brimming with happiness.”"},{id:2,fid:1,name:"2-milktea",modelurl:"../milktea/milktea.obj",textureurl:"../milktea/milktea.png",pngurl:"../milktea/milktea-split.png",infourl:"../milktea/label002.png",text:"“The Worry Filter absorbs the sadness and troubles, transforming them into large cups of milk tea, brimming with happiness.”"},{id:3,fid:1,name:"3-phone",modelurl:"../phone/phone.obj",textureurl:"../phone/phone.png",pngurl:"../phone/phone-split.png",infourl:"../phone/label003.png",text:"“The phone is filled with all sorts of games, perfect for playing while sipping on a big cup of milk tea.”"},{id:4,fid:1,name:"4-startree",modelurl:"../startree/startree.obj",textureurl:"../startree/star-tree.png",pngurl:"../startree/startree-split.png",infourl:"../startree/label004.png",text:"“The trees have star-shaped green canopies, and they bear delicious, golden french fries as their fruit.”C"},{id:5,fid:1,name:"5-ladder",modelurl:"../ladder/ladder.obj",textureurl:"../ladder/ladder.png",pngurl:"../ladder/ladder-split.png",infourl:"../ladder/label005.png",text:"“The house is built high up in a tall tree, and a ladder is needed as a tool to visit the treehouse.”"},{id:6,fid:3,name:"6-cheese",modelurl:"../cheese/cheese.obj",textureurl:"../cheese/cheese.png",pngurl:"../cheese/cheese-split.png",infourl:"../cheese/label006.png",text:"“The planet is shaped like a yellow triangle of cheese, with a pair of wings and round, grape-like little feet that allow it to move around whenever it pleases.”"},{id:7,fid:3,name:"7-bed",modelurl:"../bed/bed.obj",textureurl:"../bed/bed.png",pngurl:"../bed/bed-split.png",infourl:"../bed/label007.png",text:"“In the pink peach-shaped room, there is a wooden bed, neatly topped with a pink blanket.”"},{id:8,fid:3,name:"8-balcony",modelurl:"../balcony/balcony.obj",textureurl:"../balcony/balcony.png",pngurl:"../balcony/balcony-split.png",infourl:"../balcony/label008.png",text:"“The green glass balcony is nestled within the mango, with flowers planted on the balcony.”"},{id:9,fid:3,name:"9-mango",modelurl:"../mango/mango.obj",textureurl:"../mango/mango.png",pngurl:"../mango/mango-split.png",infourl:"../mango/label009.png",text:"“The house is shaped like a fusion of a mango and a peach.”"},{id:10,fid:3,name:"10-peach",modelurl:"../peach/peach.obj",textureurl:"../peach/peach.png",pngurl:"../peach/peach-split.png",infourl:"../peach/label010.png",text:"“The house is shaped like a fusion of a mango and a peach.”"},{id:11,fid:2,name:"11-chair",modelurl:"../chair/chair.obj",textureurl:"../chair/chair.png",pngurl:"../chair/chair-split.png",infourl:"../chair/label011.png",text:"“The king's chair is not only his royal throne but also serves as his workbench for repairing high-tech equipment.”"},{id:12,fid:2,name:"12-robot",modelurl:"../robot/robot.obj",textureurl:"../robot/robot.png",pngurl:"../robot/robot-split.png",infourl:"../robot/label012.png",text:"“The red plastic robot, dressed in red armor, is a guest of the planet, and he also helps protect the homes on the planet.”"},{id:13,fid:2,name:"13-cloudtree",modelurl:"../cloudtree/cloudtree.obj",textureurl:"../cloudtree/cloudtree.png",pngurl:"../cloudtree/cloudtree-split.png",infourl:"../cloudtree/label013.png",text:"“The air-purifying trees absorb polluted air, and after it is processed in the containers within the trunks and canopies, they release fresh, clean air upward.”"},{id:14,fid:2,name:"14-pump",modelurl:"../pump/pump.obj",textureurl:"../pump/pump.png",pngurl:"../pump/pump-split.png",infourl:"../pump/label014.png",text:"“The air-purifying trees absorb polluted air, and after it is processed in the containers within the trunks and canopies, they release fresh, clean air upward.”"},{id:15,fid:4,name:"15-rainbowtree1",modelurl:"../rainbowtree1/rainbowtree1.obj",textureurl:"../rainbowtree1/rainbowtree1.png",pngurl:"../rainbowtree1/rainbowtree1-split.png",infourl:"../rainbowtree1/label015.png",text:"“The trees on the planet have canopies shaped like clouds, dispersing the rainbow's light into a dazzling spectrum of colors.”"},{id:16,fid:4,name:"16-mirror",modelurl:"../mirror/mirror.obj",textureurl:"../mirror/mirror.png",pngurl:"../mirror/mirror-split.png",infourl:"../mirror/label016.png",text:"“The mirror is bright and shiny, and when a rainbow meets the mirror, it colors the entire planet in vibrant hues.”"},{id:17,fid:4,name:"17-rainbowtree2",modelurl:"../rainbowtree2/rainbowtree2.obj",textureurl:"../rainbowtree2/rainbowtree2.png",pngurl:"../rainbowtree2/rainbowtree2-split.png",infourl:"../rainbowtree2/label017.png",text:"“The trees on the planet have canopies shaped like clouds, dispersing the rainbow's light into a dazzling spectrum of colors.”"},{id:18,fid:4,name:"18-tv",modelurl:"../tv/tv.obj",textureurl:"../tv/tv.png",pngurl:"../tv/tv-split.png",infourl:"../tv/label018.png",text:"“Sitting on the pink sofa and turning on the TV, the black television begins to play videos with blue and green square-shaped images.”"},{id:19,fid:4,name:"19-rainbowhouse",modelurl:"../rainbowhouse/rainbowhouse.obj",textureurl:"../rainbowhouse/rainhouse.png",pngurl:"../rainbowhouse/rainbowhouse-split.png",infourl:"../rainbowhouse/label019.png",text:"“The cement-built, pointed-roof house appears as if it were made of rainbow-colored bricks when reflected in the mirror.”"},{id:20,fid:5,name:"20-gaint",modelurl:"../gaint/gaint.obj",textureurl:"../gaint/gaint.png",pngurl:"../gaint/gaint-split.png",infourl:"../gaint/label020.png",text:"“The owner of the planet is a giant.”"},{id:21,fid:5,name:"21-galaxytree",modelurl:"../galaxytree/galaxytree.obj",textureurl:"../galaxytree/galaxytree.png",pngurl:"../galaxytree/galaxytree-split.png",infourl:"../galaxytree/label021.png",text:"“The tree grows just one fruit every ten years, so it's super special and really rare.”"},{id:22,fid:5,name:"22-galaxyhouse",modelurl:"../galaxyhouse/galaxyhouse.obj",textureurl:"../galaxyhouse/galaxyhouse.png",pngurl:"../galaxyhouse/galaxyhouse-split.png",infourl:"../galaxyhouse/label022.png",text:"“The house is round, and it is adorned with colorful Galaxy fruits”"}]})}}}))}();
